<!-- 46-6 Explore destructuring and send data to html elements using props -->


<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rest Countires</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <style>
    #countryContainer {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    .singleCountry {
      border: 1px solid #ddd;
      padding: 10px 20px;
    }
  </style>
</head>

<body class="container py-5">


  <h1 class="text-center mb-5">ML 8 - Module 46.3</h1>
  <div id="countryContainer">

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script>
    const loadCountires = () => {
      const url = 'https://restcountries.com/v3.1/all';
      fetch(url)
        .then(res => res.json())
        .then(data => displayCountries(data))
        .catch(err => console.log(err))
    }

    const displayCountries = countries => {
      // console.log(countries);
      const countryContainer = document.getElementById('countryContainer');
      const countryHTML = countries.map(country => getCountry(country));
      // console.log(countryHTML);
      countryContainer.innerHTML = countryHTML.join(' ');
    }

    // const getCountry = country => {
    //   // Option 1
    //   const {name, flags} = country;
    //     return `
    //         <div class="singleCountry">
    //            <h2 class="text-center">${name.common}</h2>
    //            <img src="${flags.png}">
    //         </div>
    //     `;
    // }


      //  Or we can directly destructure in the parenthesis

      // option 2
      const getCountry = ({name, flags}) => {
        return `
            <div class="singleCountry">
               <h2 class="text-center">${name.common}</h2>
               <img src="${flags.png}">
            </div>
        `;
    }





    loadCountires();
  </script>
</body>

</html>